<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CppDB: cppdb::session Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">CppDB
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacecppdb.html">cppdb</a>      </li>
      <li class="navelem"><a class="el" href="classcppdb_1_1session.html">session</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">cppdb::session Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="cppdb::session" -->
<p>SQL session object that represents a single connection and is the gateway to SQL database.  
 <a href="classcppdb_1_1session.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="frontend_8h_source.html">cppdb/frontend.h</a>&gt;</code></p>

<p><a href="classcppdb_1_1session-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">session</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#ad2f6b9e0b18bff3fd7b7cc6288060336">session</a> (<a class="el" href="classcppdb_1_1session.html">session</a> const &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1session.html">session</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a38bcf5cbe56a8c4d55e328e796dbb29b">operator=</a> (<a class="el" href="classcppdb_1_1session.html">session</a> const &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#afc88913e97ce292fad16e64051c25c49">~session</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#ab443d0483de7df1e4d69afac27f95862">session</a> (<a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;ci)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a7ae75affbf1b2e809250a6e2ff36bf2c">session</a> (std::string const &amp;cs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a27bbfa3e9d848435730636a20285a556">session</a> (<a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;ci, <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#afcd1ca15a9024d6a00cf18338b80859e">session</a> (std::string const &amp;cs, <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a8b030086770678cc66b14c6ef7b47e28">session</a> (<a class="el" href="classcppdb_1_1ref__ptr.html">ref_ptr</a>&lt; <a class="el" href="classcppdb_1_1backend_1_1connection.html">backend::connection</a> &gt; conn, <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#aa9dfd735f2a735a9dfc8e4929c9fe8f2">session</a> (<a class="el" href="classcppdb_1_1ref__ptr.html">ref_ptr</a>&lt; <a class="el" href="classcppdb_1_1backend_1_1connection.html">backend::connection</a> &gt; conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a87bf19e274cfcc265fa9fbc40bd7c422">open</a> (<a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;ci)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a726682907005bd9efba57fd8918d27db">open</a> (std::string const &amp;cs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#acc4b097bda2c4cf933548f964985a6f6">close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a33c97228d43ac2e5a6ae42f8e5b17cbf">is_open</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a4e2b90c6b314d36b2a2f0701caba5293">prepare</a> (std::string const &amp;query)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#ae4eac881b70ec71e3a0112f0b77c5c29">operator&lt;&lt;</a> (std::string const &amp;q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a1bdbaf5d8555c5bb7a375789eedc2c70">operator&lt;&lt;</a> (char const *s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a0f366b9d4708fb7674f0637c133fc825">create_statement</a> (std::string const &amp;q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#abdb623a7715098850131c70852f89a65">create_prepared_statement</a> (std::string const &amp;q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1statement.html">statement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#af99b8eee4df8d398ca3bc30b8a93db32">create_prepared_uncached_statement</a> (std::string const &amp;q)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a0fd0460c6bf92685d792668217d4a799">clear_cache</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#af18ab1a29a8b67db74ae75ef6ce10706">clear_pool</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a6ae21b9f43f3057479a2d7049ec951db">begin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a829a295e8d4e0d09af5dc2a842ce4b3a">commit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a22f7c0260a54bae6a964f024a5c83653">rollback</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a6ebdd4b572a87ed3b0a776ec91719f8e">escape</a> (char const *b, char const *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a63d64fec56b6279f84496588fdcbe5bf">escape</a> (char const *s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a19f9aebc49320a494526056f6fc75a57">escape</a> (std::string const &amp;s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a2678743f93bbc7c72e64adbf3a47940f">driver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a8f44a4906cfb35de1fcf8f069e967e95">engine</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a65e90ffb7d3ab9e7c7d5f185dd6260eb">recyclable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a4e21e707f60a0c9e8d8e67ed23d22736">recyclable</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a47dce585a6f56021431060308e6b0028">once_called</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a59842c390365d4e7d7ff88a24d96f927">once_called</a> (bool state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a2e7a76fe14418446e7154662d809f314">once</a> (<a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a0ffdbbdb147ef301d6b52d88cb22e1c1">get_specific</a> (std::type_info const &amp;t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#aef0128fa9ce5c20020fd91e71c05024f">release_specific</a> (std::type_info const &amp;t)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a8795e90056b1acb427dd105ff8535266">reset_specific</a> (std::type_info const &amp;t, <a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a> *p=0)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a7a9b285329f241e3a46f4e981607be50">get_specific</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a028b49dad2a195a2ba0944f427e95ffb">release_specific</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppdb_1_1session.html#a2fb229803284bd406b96c7886e8847ae">reset_specific</a> (T *p=0)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>SQL session object that represents a single connection and is the gateway to SQL database. </p>
<p>It is the main class that is used for access to the DB, it uses various singleton classes to load drivers open connections and cache them. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1698875783a6f302f2f4a8cffda37d26"></a><!-- doxytag: member="cppdb::session::session" ref="a1698875783a6f302f2f4a8cffda37d26" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an empty session object, it should not be used until it is opened with calling <a class="el" href="classcppdb_1_1session.html#a87bf19e274cfcc265fa9fbc40bd7c422">open()</a> function. </p>

</div>
</div>
<a class="anchor" id="ad2f6b9e0b18bff3fd7b7cc6288060336"></a><!-- doxytag: member="cppdb::session::session" ref="ad2f6b9e0b18bff3fd7b7cc6288060336" args="(session const &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1session.html">session</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy a session object, note - it copies only the reference to the underlying connection, so you should be very careful when you do it. </p>

</div>
</div>
<a class="anchor" id="afc88913e97ce292fad16e64051c25c49"></a><!-- doxytag: member="cppdb::session::~session" ref="afc88913e97ce292fad16e64051c25c49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#afc88913e97ce292fad16e64051c25c49">cppdb::session::~session</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroys the session object, if connection pool is used it returns the object to connection pool.</p>
<p>Note: the connection would not be returned to the pool until all statement and result objects created using this session are not destroyed. </p>

</div>
</div>
<a class="anchor" id="ab443d0483de7df1e4d69afac27f95862"></a><!-- doxytag: member="cppdb::session::session" ref="ab443d0483de7df1e4d69afac27f95862" args="(connection_info const &amp;ci)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a parsed connection string <em>ci</em> </p>
<p>The connection string format is following:</p>
<div class="fragment"><pre class="fragment">driver:[key=value;]*  </pre></div><p>Where value can be either a sequence of characters (white space is trimmed) or it may be a general sequence encloded in a single quitation marks were double quote is used for insering a single quote value.</p>
<p>Key values starting with @ are reserved to be used as special cppdb keys For example:</p>
<div class="fragment"><pre class="fragment">mysql:username= root;password = 'asdf''5764dg';database=test;@use_prepared=off' </pre></div><p>Where driver is "mysql", username is "root", password is "asdf'5764dg", database is "test" and special value "@use_prepared" is off - internal cppdb option. </p>
; </p>

</div>
</div>
<a class="anchor" id="a7ae75affbf1b2e809250a6e2ff36bf2c"></a><!-- doxytag: member="cppdb::session::session" ref="a7ae75affbf1b2e809250a6e2ff36bf2c" args="(std::string const &amp;cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a connection string <em>cs</em>.</p>
<p>The connection string format is following:</p>
<div class="fragment"><pre class="fragment">driver:[key=value;]*  </pre></div><p>Where value can be either a sequence of characters (white space is trimmed) or it may be a general sequence encloded in a single quitation marks were double quote is used for insering a single quote value.</p>
<p>Key values starting with @ are reserved to be used as special cppdb keys For example:</p>
<div class="fragment"><pre class="fragment">mysql:username= root;password = 'asdf''5764dg';database=test;@use_prepared=off' </pre></div><p>Where driver is "mysql", username is "root", password is "asdf'5764dg", database is "test" and special value "@use_prepared" is off - internal cppdb option. </p>
; </p>

</div>
</div>
<a class="anchor" id="a27bbfa3e9d848435730636a20285a556"></a><!-- doxytag: member="cppdb::session::session" ref="a27bbfa3e9d848435730636a20285a556" args="(connection_info const &amp;ci, once_functor const &amp;f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;&#160;</td>
          <td class="paramname"><em>ci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a parsed connection string <em>ci</em> and call <em>f</em> if a <a class="el" href="classcppdb_1_1session.html#a2e7a76fe14418446e7154662d809f314">once()</a> was not called yet.</p>
<p>It is useful for setting session specific options for new connection, not reused from the pool one.</p>
<p>Requirements: <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> is an object that can be created from generic function like object func, such that func(*this) is valid expression</p>
<p>The connection string format is following:</p>
<div class="fragment"><pre class="fragment">driver:[key=value;]*  </pre></div><p>Where value can be either a sequence of characters (white space is trimmed) or it may be a general sequence encloded in a single quitation marks were double quote is used for insering a single quote value.</p>
<p>Key values starting with @ are reserved to be used as special cppdb keys For example:</p>
<div class="fragment"><pre class="fragment">mysql:username= root;password = 'asdf''5764dg';database=test;@use_prepared=off' </pre></div><p>Where driver is "mysql", username is "root", password is "asdf'5764dg", database is "test" and special value "@use_prepared" is off - internal cppdb option. </p>
; </p>

</div>
</div>
<a class="anchor" id="afcd1ca15a9024d6a00cf18338b80859e"></a><!-- doxytag: member="cppdb::session::session" ref="afcd1ca15a9024d6a00cf18338b80859e" args="(std::string const &amp;cs, once_functor const &amp;f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a connection string <em>cs</em> and call <em>f</em> if a <a class="el" href="classcppdb_1_1session.html#a2e7a76fe14418446e7154662d809f314">once()</a> was not called yet.</p>
<p>It is useful for setting session specific options for new connection, not reused from the pool one.</p>
<p>Requirements: <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> is an object that can be created from generic function like object func, such that func(*this) is valid expression</p>
<p>The connection string format is following:</p>
<div class="fragment"><pre class="fragment">driver:[key=value;]*  </pre></div><p>Where value can be either a sequence of characters (white space is trimmed) or it may be a general sequence encloded in a single quitation marks were double quote is used for insering a single quote value.</p>
<p>Key values starting with @ are reserved to be used as special cppdb keys For example:</p>
<div class="fragment"><pre class="fragment">mysql:username= root;password = 'asdf''5764dg';database=test;@use_prepared=off' </pre></div><p>Where driver is "mysql", username is "root", password is "asdf'5764dg", database is "test" and special value "@use_prepared" is off - internal cppdb option. </p>
; </p>

</div>
</div>
<a class="anchor" id="a8b030086770678cc66b14c6ef7b47e28"></a><!-- doxytag: member="cppdb::session::session" ref="a8b030086770678cc66b14c6ef7b47e28" args="(ref_ptr&lt; backend::connection &gt; conn, once_functor const &amp;f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1ref__ptr.html">ref_ptr</a>&lt; <a class="el" href="classcppdb_1_1backend_1_1connection.html">backend::connection</a> &gt;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a pointer to <a class="el" href="classcppdb_1_1backend_1_1connection.html" title="this class represents connection to database">backend::connection</a> and call <em>f</em> if a <a class="el" href="classcppdb_1_1session.html#a2e7a76fe14418446e7154662d809f314">once()</a> was not called yet.</p>
<p>It is useful for setting session specific options for new connection, not reused from the pool one.</p>
<p>Requirements: <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> is an object that can be created from generic function like object func, such that func(*this) is valid expression </p>

</div>
</div>
<a class="anchor" id="aa9dfd735f2a735a9dfc8e4929c9fe8f2"></a><!-- doxytag: member="cppdb::session::session" ref="aa9dfd735f2a735a9dfc8e4929c9fe8f2" args="(ref_ptr&lt; backend::connection &gt; conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html#a1698875783a6f302f2f4a8cffda37d26">cppdb::session::session</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1ref__ptr.html">ref_ptr</a>&lt; <a class="el" href="classcppdb_1_1backend_1_1connection.html">backend::connection</a> &gt;&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a session using a pointer to <a class="el" href="classcppdb_1_1backend_1_1connection.html" title="this class represents connection to database">backend::connection</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6ae21b9f43f3057479a2d7049ec951db"></a><!-- doxytag: member="cppdb::session::begin" ref="a6ae21b9f43f3057479a2d7049ec951db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a6ae21b9f43f3057479a2d7049ec951db">cppdb::session::begin</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Begin a transaction. Don't use it directly for RAII reasons. Use transaction class instead. </p>

</div>
</div>
<a class="anchor" id="a0fd0460c6bf92685d792668217d4a799"></a><!-- doxytag: member="cppdb::session::clear_cache" ref="a0fd0460c6bf92685d792668217d4a799" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a0fd0460c6bf92685d792668217d4a799">cppdb::session::clear_cache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all statements from the cache. </p>

</div>
</div>
<a class="anchor" id="af18ab1a29a8b67db74ae75ef6ce10706"></a><!-- doxytag: member="cppdb::session::clear_pool" ref="af18ab1a29a8b67db74ae75ef6ce10706" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#af18ab1a29a8b67db74ae75ef6ce10706">cppdb::session::clear_pool</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear connections pool associated with this session's connection.</p>
<p>Automatically calls <a class="el" href="classcppdb_1_1session.html#a0fd0460c6bf92685d792668217d4a799">clear_cache()</a>; </p>

</div>
</div>
<a class="anchor" id="acc4b097bda2c4cf933548f964985a6f6"></a><!-- doxytag: member="cppdb::session::close" ref="acc4b097bda2c4cf933548f964985a6f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#acc4b097bda2c4cf933548f964985a6f6">cppdb::session::close</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close current connection, note, if connection pooling is used the connection is not actually become closed but rather recycled for future use. </p>

</div>
</div>
<a class="anchor" id="a829a295e8d4e0d09af5dc2a842ce4b3a"></a><!-- doxytag: member="cppdb::session::commit" ref="a829a295e8d4e0d09af5dc2a842ce4b3a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a829a295e8d4e0d09af5dc2a842ce4b3a">cppdb::session::commit</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Commit a transaction. Don't use it directly for RAII reasons. Use transaction class instead. </p>

</div>
</div>
<a class="anchor" id="abdb623a7715098850131c70852f89a65"></a><!-- doxytag: member="cppdb::session::create_prepared_statement" ref="abdb623a7715098850131c70852f89a65" args="(std::string const &amp;q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> <a class="el" href="classcppdb_1_1session.html#abdb623a7715098850131c70852f89a65">cppdb::session::create_prepared_statement</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create prepared statement that will be cached for next calls. </p>

</div>
</div>
<a class="anchor" id="af99b8eee4df8d398ca3bc30b8a93db32"></a><!-- doxytag: member="cppdb::session::create_prepared_uncached_statement" ref="af99b8eee4df8d398ca3bc30b8a93db32" args="(std::string const &amp;q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> <a class="el" href="classcppdb_1_1session.html#af99b8eee4df8d398ca3bc30b8a93db32">cppdb::session::create_prepared_uncached_statement</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create prepared statement however don't use statements cache and for it. Useful for creation of custom or rarely executed statements that should be executed several times at this point in program. </p>

</div>
</div>
<a class="anchor" id="a0f366b9d4708fb7674f0637c133fc825"></a><!-- doxytag: member="cppdb::session::create_statement" ref="a0f366b9d4708fb7674f0637c133fc825" args="(std::string const &amp;q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> <a class="el" href="classcppdb_1_1session.html#a0f366b9d4708fb7674f0637c133fc825">cppdb::session::create_statement</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create ordinary statement it generally unprepared statement and it is never cached. It should be used when such statement is executed rarely or very customized. </p>

</div>
</div>
<a class="anchor" id="a2678743f93bbc7c72e64adbf3a47940f"></a><!-- doxytag: member="cppdb::session::driver" ref="a2678743f93bbc7c72e64adbf3a47940f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcppdb_1_1session.html#a2678743f93bbc7c72e64adbf3a47940f">cppdb::session::driver</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the driver name, as mysql, postgresql, odbc, sqlite3. </p>

</div>
</div>
<a class="anchor" id="a8f44a4906cfb35de1fcf8f069e967e95"></a><!-- doxytag: member="cppdb::session::engine" ref="a8f44a4906cfb35de1fcf8f069e967e95" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcppdb_1_1session.html#a8f44a4906cfb35de1fcf8f069e967e95">cppdb::session::engine</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get an SQL engine name, it may be not the same as driver name for multiple engine drivers like odbc. </p>

</div>
</div>
<a class="anchor" id="a6ebdd4b572a87ed3b0a776ec91719f8e"></a><!-- doxytag: member="cppdb::session::escape" ref="a6ebdd4b572a87ed3b0a776ec91719f8e" args="(char const *b, char const *e)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcppdb_1_1session.html#a6ebdd4b572a87ed3b0a776ec91719f8e">cppdb::session::escape</a> </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Escape a string in range [<em>b</em>,<em>e</em>) for inclusion in SQL statement. It does not add quotation marks at beginning and end. It is designed to be used with text, don't use it with generic binary data.</p>
<p>Some backends (odbc) may not support this. </p>

</div>
</div>
<a class="anchor" id="a63d64fec56b6279f84496588fdcbe5bf"></a><!-- doxytag: member="cppdb::session::escape" ref="a63d64fec56b6279f84496588fdcbe5bf" args="(char const *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcppdb_1_1session.html#a6ebdd4b572a87ed3b0a776ec91719f8e">cppdb::session::escape</a> </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Escape a NULL terminated string <em>s</em> for inclusion in SQL statement. It does not add quotation marks at beginning and end. It is designed to be used with text, don't use it with generic binary data.</p>
<p>Some backends (odbc) may not support this. </p>

</div>
</div>
<a class="anchor" id="a19f9aebc49320a494526056f6fc75a57"></a><!-- doxytag: member="cppdb::session::escape" ref="a19f9aebc49320a494526056f6fc75a57" args="(std::string const &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcppdb_1_1session.html#a6ebdd4b572a87ed3b0a776ec91719f8e">cppdb::session::escape</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Escape a string <em>s</em> for inclusion in SQL statement. It does not add quotation marks at beginning and end. It is designed to be used with text, don't use it with generic binary data.</p>
<p>Some backends (odbc) may not support this. </p>

</div>
</div>
<a class="anchor" id="a0ffdbbdb147ef301d6b52d88cb22e1c1"></a><!-- doxytag: member="cppdb::session::get_specific" ref="a0ffdbbdb147ef301d6b52d88cb22e1c1" args="(std::type_info const &amp;t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a>* <a class="el" href="classcppdb_1_1session.html#a0ffdbbdb147ef301d6b52d88cb22e1c1">cppdb::session::get_specific</a> </td>
          <td>(</td>
          <td class="paramtype">std::type_info const &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get connection specific object by its type <em>t</em>, returns 0 if not installed yet </p>

</div>
</div>
<a class="anchor" id="a7a9b285329f241e3a46f4e981607be50"></a><!-- doxytag: member="cppdb::session::get_specific" ref="a7a9b285329f241e3a46f4e981607be50" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classcppdb_1_1session.html#a0ffdbbdb147ef301d6b52d88cb22e1c1">cppdb::session::get_specific</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get connection specific object by its type <em>T</em>, returns 0 if not installed yet </p>

</div>
</div>
<a class="anchor" id="a33c97228d43ac2e5a6ae42f8e5b17cbf"></a><!-- doxytag: member="cppdb::session::is_open" ref="a33c97228d43ac2e5a6ae42f8e5b17cbf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcppdb_1_1session.html#a33c97228d43ac2e5a6ae42f8e5b17cbf">cppdb::session::is_open</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if the session was opened. </p>

</div>
</div>
<a class="anchor" id="a2e7a76fe14418446e7154662d809f314"></a><!-- doxytag: member="cppdb::session::once" ref="a2e7a76fe14418446e7154662d809f314" args="(once_functor const &amp;f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a2e7a76fe14418446e7154662d809f314">cppdb::session::once</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> const &amp;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Call the functional <em>f</em> on the connection only once. If the connection created first time then f would be called. If the connection is created from connection pool and thus setup functor was called, f would not be called.</p>
<p>Requirements: <a class="el" href="namespacecppdb.html#ac7db64fae04ba541e2144baaedf936ae">once_functor</a> is an object that can be created from generic function like object func, such that func(*this) is valid expression </p>

</div>
</div>
<a class="anchor" id="a47dce585a6f56021431060308e6b0028"></a><!-- doxytag: member="cppdb::session::once_called" ref="a47dce585a6f56021431060308e6b0028" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcppdb_1_1session.html#a47dce585a6f56021431060308e6b0028">cppdb::session::once_called</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true of session specific initialization is done, otherwise returns false </p>

</div>
</div>
<a class="anchor" id="a59842c390365d4e7d7ff88a24d96f927"></a><!-- doxytag: member="cppdb::session::once_called" ref="a59842c390365d4e7d7ff88a24d96f927" args="(bool state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a47dce585a6f56021431060308e6b0028">cppdb::session::once_called</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set flag to true if session specific initialization is done, otherwise set it to false </p>

</div>
</div>
<a class="anchor" id="a87bf19e274cfcc265fa9fbc40bd7c422"></a><!-- doxytag: member="cppdb::session::open" ref="a87bf19e274cfcc265fa9fbc40bd7c422" args="(connection_info const &amp;ci)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a87bf19e274cfcc265fa9fbc40bd7c422">cppdb::session::open</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1connection__info.html">connection_info</a> const &amp;&#160;</td>
          <td class="paramname"><em>ci</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open a session using a <a class="el" href="classcppdb_1_1connection__info.html" title="Class that represents parsed connection string.">connection_info</a> object - parsed connection string <em>ci</em>. </p>

</div>
</div>
<a class="anchor" id="a726682907005bd9efba57fd8918d27db"></a><!-- doxytag: member="cppdb::session::open" ref="a726682907005bd9efba57fd8918d27db" args="(std::string const &amp;cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a87bf19e274cfcc265fa9fbc40bd7c422">cppdb::session::open</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open a session using a connection string <em>cs</em>.</p>
<p>The connection string format is following:</p>
<div class="fragment"><pre class="fragment">driver:[key=value;]*  </pre></div><p>Where value can be either a sequence of characters (white space is trimmed) or it may be a general sequence encloded in a single quitation marks were double quote is used for insering a single quote value.</p>
<p>Key values starting with @ are reserved to be used as special cppdb keys For example:</p>
<div class="fragment"><pre class="fragment">mysql:username= root;password = 'asdf''5764dg';database=test;@use_prepared=off' </pre></div><p>Where driver is "mysql", username is "root", password is "asdf'5764dg", database is "test" and special value "@use_prepared" is off - internal cppdb option. </p>
; </p>

</div>
</div>
<a class="anchor" id="ae4eac881b70ec71e3a0112f0b77c5c29"></a><!-- doxytag: member="cppdb::session::operator&lt;&lt;" ref="ae4eac881b70ec71e3a0112f0b77c5c29" args="(std::string const &amp;q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> cppdb::session::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Syntactic sugar, same as prepare(q) </p>

</div>
</div>
<a class="anchor" id="a1bdbaf5d8555c5bb7a375789eedc2c70"></a><!-- doxytag: member="cppdb::session::operator&lt;&lt;" ref="a1bdbaf5d8555c5bb7a375789eedc2c70" args="(char const *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> cppdb::session::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Syntactic sugar, same as prepare(s) </p>

</div>
</div>
<a class="anchor" id="a38bcf5cbe56a8c4d55e328e796dbb29b"></a><!-- doxytag: member="cppdb::session::operator=" ref="a38bcf5cbe56a8c4d55e328e796dbb29b" args="(session const &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1session.html">session</a> const&amp; cppdb::session::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1session.html">session</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Assign a session object, note - it copies only the reference to the underlying connection, so you should be very careful when you do it. </p>

</div>
</div>
<a class="anchor" id="a4e2b90c6b314d36b2a2f0701caba5293"></a><!-- doxytag: member="cppdb::session::prepare" ref="a4e2b90c6b314d36b2a2f0701caba5293" args="(std::string const &amp;query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1statement.html">statement</a> <a class="el" href="classcppdb_1_1session.html#a4e2b90c6b314d36b2a2f0701caba5293">cppdb::session::prepare</a> </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new statement, by default is creates prepared statement - <a class="el" href="classcppdb_1_1session.html#abdb623a7715098850131c70852f89a65">create_prepared_statement()</a> unless @use_prepared connection string property is set to off, then it uses normal statements by calling <a class="el" href="classcppdb_1_1session.html#a0f366b9d4708fb7674f0637c133fc825">create_statement()</a></p>
<p>This is the most convenient function to create statements with. </p>

</div>
</div>
<a class="anchor" id="a65e90ffb7d3ab9e7c7d5f185dd6260eb"></a><!-- doxytag: member="cppdb::session::recyclable" ref="a65e90ffb7d3ab9e7c7d5f185dd6260eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcppdb_1_1session.html#a65e90ffb7d3ab9e7c7d5f185dd6260eb">cppdb::session::recyclable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if this session's connection can be recycled for reuse in a pool.</p>
<p>If an exception is thrown during operation on DB this flag is reset to false by the front-end classes result, statement, session.</p>
<p>Default is true </p>

</div>
</div>
<a class="anchor" id="a4e21e707f60a0c9e8d8e67ed23d22736"></a><!-- doxytag: member="cppdb::session::recyclable" ref="a4e21e707f60a0c9e8d8e67ed23d22736" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a65e90ffb7d3ab9e7c7d5f185dd6260eb">cppdb::session::recyclable</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set recyclable state of the session. If some problem occurs on connection that prevents its reuse it should be called with false parameter. </p>

</div>
</div>
<a class="anchor" id="aef0128fa9ce5c20020fd91e71c05024f"></a><!-- doxytag: member="cppdb::session::release_specific" ref="aef0128fa9ce5c20020fd91e71c05024f" args="(std::type_info const &amp;t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a>* <a class="el" href="classcppdb_1_1session.html#aef0128fa9ce5c20020fd91e71c05024f">cppdb::session::release_specific</a> </td>
          <td>(</td>
          <td class="paramtype">std::type_info const &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Transfers ownership on the connection specific object of type <em>t</em>, returns 0 if not installed yet </p>

</div>
</div>
<a class="anchor" id="a028b49dad2a195a2ba0944f427e95ffb"></a><!-- doxytag: member="cppdb::session::release_specific" ref="a028b49dad2a195a2ba0944f427e95ffb" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classcppdb_1_1session.html#aef0128fa9ce5c20020fd91e71c05024f">cppdb::session::release_specific</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Transfers ownership on the connection specific object of type <em>T</em>, returns 0 if not installed yet </p>

</div>
</div>
<a class="anchor" id="a8795e90056b1acb427dd105ff8535266"></a><!-- doxytag: member="cppdb::session::reset_specific" ref="a8795e90056b1acb427dd105ff8535266" args="(std::type_info const &amp;t, connection_specific_data *p=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a8795e90056b1acb427dd105ff8535266">cppdb::session::reset_specific</a> </td>
          <td>(</td>
          <td class="paramtype">std::type_info const &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcppdb_1_1connection__specific__data.html">connection_specific_data</a> *&#160;</td>
          <td class="paramname"><em>p</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes connection specific object of type <em>t</em>, and sets a new one <em>p</em> (if not NULL) </p>

</div>
</div>
<a class="anchor" id="a2fb229803284bd406b96c7886e8847ae"></a><!-- doxytag: member="cppdb::session::reset_specific" ref="a2fb229803284bd406b96c7886e8847ae" args="(T *p=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a8795e90056b1acb427dd105ff8535266">cppdb::session::reset_specific</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>p</em> = <code>0</code></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes connection specific object of type <em>T</em>, and sets a new one <em>p</em> (if not NULL) </p>

</div>
</div>
<a class="anchor" id="a22f7c0260a54bae6a964f024a5c83653"></a><!-- doxytag: member="cppdb::session::rollback" ref="a22f7c0260a54bae6a964f024a5c83653" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcppdb_1_1session.html#a22f7c0260a54bae6a964f024a5c83653">cppdb::session::rollback</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rollback a transaction. Don't use it directly for RAII reasons. Use transaction class instead. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cppdb/<a class="el" href="frontend_8h_source.html">frontend.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 23 2012 12:37:00 for CppDB by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
